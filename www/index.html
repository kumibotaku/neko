<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
  <meta http-equiv="Content-Security-Policy" content="default-src * data: gap: https://ssl.gstatic.com; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
  <script src="components/loader.js"></script>
  <script src="components/main.js"></script>
  <script src="components/game2.js"></script>
  <script src="components/game3.js"></script>
  <script src="lib/onsenui/js/onsenui.min.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Lato:400,700|Noto+Sans+JP:400,700" rel="stylesheet">
  <link rel="stylesheet" href="components/loader.css">
  <link rel="stylesheet" href="lib/onsenui/css/onsenui.css">
  <link rel="stylesheet" href="lib/onsenui/css/onsen-css-components.css">
  <link rel="stylesheet" href="css/style.css">
  
  <script>
    var score  =0 ;
    var missed  =5 ;
    var count = 0;
    var cs = [1,2,3,4,];
    document.addEventListener('init', function(event) {
      var page = event.target;
      
      if (page.matches('#first-page')) {
        
        page.querySelector('#push-button2').onclick = function() {
          document.querySelector('#navigator').pushPage('page2.html');
        };
      } else if (page.matches('#second-page')) {
        page.querySelector('#pop-button').onclick = function() {
          document.querySelector('#navigator').popPage();
        };
      }  
      
      // トップ画面からみりおにゃあへ
      //みりおにゃあからトップ画面へ
      if (page.matches('#first-page')) {
        page.querySelector('#push-button4').onclick = function() {
          document.querySelector('#navigator').pushPage('page4.html');
        };
      } else if (page.matches('#fourth-page')) {
        page.querySelector('#pop-button').onclick = function() {
          document.querySelector('#navigator').popPage();
        };
      }  
      // みりおにゃあ説明画面から問題画面へ
      
      if (page.matches('#fourth-page')) {
        page.querySelector('#push-button').onclick = function() {
          document.querySelector('#navigator').pushPage('page7.html');
        };
      }
      
      // みりおにゃあ問題画面から結果画面へ check!!!
      
      
      if (page.matches('#seventh-page')) {                  
        document.getElementById('section3').classList.remove('hidden');
        document.getElementById('button3').addEventListener('click',()=>{//スタート押したときの操作
          settingInterval();
          document.getElementById('section3').classList.add('hidden');          
          // console.log(page.querySelector('#pop-button'));
          page.querySelector('#pop-button').onclick = function() {
            document.querySelector('#navigator').pushPage('page8.html');
            };
        });

        questionChange();//問題を移行するメソッド
        console.log(questionsMillionea[`answers${m[0]}`][0]);
        cs.forEach((c)=>{    
          document.getElementById(`answer${c}`).addEventListener('click',()=>{
            if(a < 4){
              console.log(questionsMillionea[`answers${m[a]}`][0]);
              if(document.getElementById('answer1').textContent == questionsMillionea[`answers${m[a]}`][0]){
                score++;
                console.log('scored1');
              }else if(document.getElementById('answer2').textContent == questionsMillionea[`answers${m[a]}`][0]){
                score++;
                console.log('scored2');
              }else if(document.getElementById('answer3').textContent == questionsMillionea[`answers${m[a]}`][0]){
                score++;
                console.log('scored3');
              }else if(document.getElementById('answer4').textContent == questionsMillionea[`answers${m[a]}`][0]){
                score++;
                console.log('scored4');
              }

              a++;
              questionChange();
              console.log('changed');
            }else if(a == 4){
              console.log('last');
              if(document.getElementById('answer1').textContent == questionsMillionea[`answers${m[a]}`][0]){
                score++;
                console.log('scored5');
                }else if(document.getElementById('answer2').textContent == questionsMillionea[`answers${m[a]}`][0]){
                  score++;
                  console.log('scored6');
                }else if(document.getElementById('answer3').textContent == questionsMillionea[`answers${m[a]}`][0]){
                  score++;
                  console.log('scored7');
                }else if(document.getElementById('answer4').textContent == questionsMillionea[`answers${m[a]}`][0]){
                  score++;
                  console.log('scored8');
                }
              clearFlag = true;
              missed = 5 - score;
            }
          });
          
        });
        
      }
      
      
          
      // みりおにゃあ結果画面からトップ画面へ
      
      if (page.matches('#eighth-page')) {
        console.log(score);
        console.log(missed);
        result(score,missed);
        
        console.log(page.querySelector('#pop-button'));
        page.querySelector('#pop-button').onclick = function(event) {
        // document.querySelector('#navigator').resetToPage('page1.html');
          location.reload();
        };
      }

      // トップ画面からにゃん経衰弱へ
      //にゃん経衰弱からトップ画面へ
      if (page.matches('#first-page')) {
        page.querySelector('#push-button5').onclick = function() {
          document.querySelector('#navigator').pushPage('page5.html');
        };
      } else if (page.matches('#fifth-page')) {
        page.querySelector('#pop-button').onclick = function() {
          document.querySelector('#navigator').popPage();
        };
      }  
      //5-9 9-5
      if (page.matches('#fifth-page')) {
        page.querySelector('#push-button5').onclick = function() {
          document.querySelector('#navigator').pushPage('page9.html');
        };
      } else if (page.matches('#ninth-page')) {
        page.querySelector('#pop-button').onclick = function() {
          document.querySelector('#navigator').popPage();
        };
      }  
      //9-10 10-9
      if (page.matches('#ninth-page')) {
        randomGrids();
        page.querySelector('#push-button9').onclick = function() {
          document.querySelector('#navigator').pushPage('page10.html');
        };
      }  
      // } else if (page.matches('tenth-page')) {
      //   page.querySelector('#resetter').onclick = function(event) {
      //     // document.querySelector('#navigator').resetToPage();
      //     location.reload();
      //   };
        
    //10-1
      if (page.matches('#tenth-page')) {
        page.querySelector('#resetter').onclick = function(event) {
          // document.querySelector('#navigator').resetToPage();
          location.reload();
        };}


    // ---モザイクネコ問題画面--------
        if (page.matches('#second-page')) {
          page.querySelector('#push-button').onclick = function() {
            document.querySelector('#navigator').pushPage('page3.html');
           };
        // } else if (page.matches('#third-page')) {
          //    page.querySelector('#replace-button').onclick = function(event) {
            //     document.querySelector('#navigator').resetToPage("page1.html");
            //     };  
            //   }
          }  else if (page.matches('#third-page')) {
            randomName();
            document.getElementById('questionImg').setAttribute('src',`${image}`);
            
            document.getElementById('section2').classList.remove('hidden');
            document.getElementById('button1').addEventListener('click',()=>{//スタート押したときの操作
              document.getElementById('section2').classList.add('hidden');          
            startInterval();//->main.js  
          });
          
          answers.forEach((answer)=>{
            
            document.getElementById(`answer${answer}`).addEventListener('click',()=>{//answer(number)を押したときの操作
              document.getElementById('section1').classList.remove('hidden');
            });
          });
          
          page.querySelector('#push-button').onclick = function() {
            document.querySelector('#navigator').pushPage("page6.html");
          };  
        }
        // --モザイクネコ結果画面---------
        if (page.matches('#sixth-page')) {
          console.log(answerFlag);
          if(answerFlag){
            document.getElementById('answerBox').innerHTML = document.getElementById('selectedAnswer').innerHTML ;
            document.getElementById('resultTime').innerHTML = `${resultTime}` ;
          } else{
            document.getElementById('answerBox').innerHTML = '' ;
            document.getElementById('resultTime').innerHTML = '時間切れ' ;
          }
          
          document.getElementById('catName').innerText = l ;//正解の品種を書く
          document.getElementById('questionImg2').setAttribute('src',`${image}`);//答えの写真を載せる
          document.getElementById('catComment').innerHTML= comment ;
          page.querySelector('#reset-button').onclick = function(event) {
            // document.querySelector('#navigator').resetToPage("page1.html");
            location.reload();
          };  
        }
      });
      
    if (ons.platform.isIPhoneX()) {
      document.documentElement.setAttribute('onsflag-iphonex-portrait', '');
      document.documentElement.setAttribute('onsflag-iphonex-landscape', '');
    }
    
    
    </script>
</head>
<body>
  <ons-navigator id="navigator" page="page1.html"></ons-navigator>
  <ons-template id="page1.html">
    <ons-page id="first-page">

        <div class="content-top" style="text-align: center">
          <h1 style="margin: 0; padding: 12px 0 0;">ねこゲーム</h1>
          <p>ねこたちに癒されてくださいお願いします。</p>
          <img src="css/images/scottish-fold.png">
          <ons-button class="btn" id="push-button2" >モザイクネコ</ons-button>
          <ons-button class="btn" id="push-button4">クイズ！ミリオにゃあ</ons-button>
          <ons-button class="btn" id="push-button5">にゃん経衰弱</ons-button>
        </div>
      </ons-page>
  </ons-template>

  <ons-template id="page2.html">
    <ons-page id="second-page">

      <div class="content-top" style="text-align: center">
          <div class="explanations">
            <h1 style="padding: 12px; margin: 0px;" >モザイクネコ</h1>
            <div class="explanation" >      
              <h2>ゲーム説明</h2>
              <p>モザイクタイルが剥がれていく中ネコの品種を当てるゲームです。
              <br>タイムアタックゲームなので正解までにかかった時間を表示します。
              <br>クリアできれば褒められます。</p>
            </div> 
            <img src="css/images/mainecoon.png" >  
          </div> 

        <ons-button class="btn" id="push-button">START!</ons-button>
        <ons-button class="btn" id="pop-button">TOPに戻る</ons-button>
      </div>
    </ons-page>
  </ons-template>
<!-- 2020年6月9日 -->
  <ons-template id="page3.html">
    <ons-page id="third-page">

      <div class="content-top" style="text-align: center">
        <header>
          <p id="h">Q.この猫の品種はどれでしょう？</p>
        </header>
        <!-- <input id = 'button1' type="button" value = "ゲームスタート！" onclick="this.disabled=true;"> -->
        <div class = "timer">Time Limit:  <span id="timer">30</span></div>
        
        <div class="game1-container">
          <img id="questionImg" src="css/images/hatena.jpg">
          <div class="seats" >
            <div class="seat " id="s1" ></div>
            <div class="seat " id="s2" ></div>
            <div class="seat " id="s3" ></div>
            <div class="seat " id="s4" ></div>
            <div class="seat " id="s5" ></div>
            <div class="seat " id="s6" ></div>
            <div class="seat " id="s7" ></div>
            <div class="seat " id="s8" ></div>
            <div class="seat " id="s9" ></div>
            <div class="seat " id="s10" ></div>
            <div class="seat " id="s11" ></div>
            <div class="seat " id="s12" ></div>
            <div class="seat " id="s13" ></div>
            <div class="seat " id="s14" ></div>
            <div class="seat " id="s15" ></div>
            <div class="seat " id="s16" ></div>
          </div>
        </div>
        
        <div class="answers">
          <p>以下の選択肢から一つ選んでください</p>
            <div class="container">
              <button class="btn"   id="answer1">Selector1</button>
              <button class="btn"   id="answer2">Selector2</button>
              <button class="btn"   id="answer3">Selector3</button>
              <button class="btn"   id="answer4">Selector4</button>
            </div>
            </div>
            
            <!-- 開始前ポップ -->
            <section class="hidden" id="section2">
              <div class="popup-container">
                <div class="button-background"></div>
                <div class="info-documents">準備OK?</div>
                <img src="css/images/Ready.jpg" >
                <input class="btn" id = 'button1' type="button" value = "ゲームスタート！" style="position: relative; top: 300px; left: 0; right: 0;" onclick="this.disabled=true;">
                <div class="black-background"></div>
              </div>
            </section>
            <!-- 終了ポップ -->
            <section class="hidden" id="section1">
              <div class="popup-container">
                <div class="button-background"></div>
                <div class="info-documents">既に癒されましたね。<p>さあ答え合わせです。</p></div>
                <ons-button class="btn" id="push-button" style="position: relative; top: 300px; left: 0; right: 0;">次のページへ</ons-button>
                <div class="black-background"></div>
              </div>
            </section>
          </div>
          
          <script>
          //ここに書いても実行できない、、、
          </script>
      <!-- </div> -->
    </ons-page>
  </ons-template>
  <!-- 2020年6月9日end -->
  
  <!-- モザイクネコの結果画面--ページ6 -->
  <ons-template id="page6.html">
    <ons-page id="sixth-page">
      <div class="content-top" style="text-align: center">
        <h1>結果発表！</h1>
        <p>答えは<p id="catName" >neko</p>でした！</p>
        <div class="resultTime">
          <div >残り時間: <span id="resultTime" ></span></div>
          <div class="selectedAnswer">選択された答え:<span id="answerBox"></span></div>
        </div>
        <img id="questionImg2" src="css/images/hatena.jpg">
        <p>ねこコメント<p id="catComment">可愛いですね。</p></p>
        
        <ons-button class="btn" id="reset-button">ToP page</ons-button>
      </div>
    </ons-page>
  </ons-template>
  <!-- みりおにゃあ説明画面 -->
  <ons-template id="page4.html">
    <ons-page id="fourth-page">

      <div class="content-top" style="text-align: center">
        <div class="explanations">
          <h1 style="padding: 12px; margin: 0px;" >クイズ！ミリオにゃあ</h1>
          <div class="explanation" >      
            <h2>ゲーム説明</h2>
            <p>5種類のネコに関する質問を次々と当てていくゲームです。
            <br>タイムアタックゲームなので正解までにかかった時間を表示します。
            <br>クリアできれば褒められます。</p>
          </div> 
          <img src="css/images/siberian.png" >  
        </div> 
        <ons-button class="btn" id="push-button">START!</ons-button>
        <ons-button class="btn" id="pop-button">TOPに戻る</ons-button>
       </div>
    </ons-page>
  </ons-template>
  
  <!-- みりおにゃあ問題画面 -->
  <ons-template id="page7.html">
    <ons-page id="seventh-page">

      <div class="content-top" style="text-align: center">
        <h1>問題</h1> 
        <p>経過時間：<span id="passedTime"></span></p>
        <p id="questions2">ねこがゴロゴロ鳴いているときはどんな時？</p>
        <img id="game2Img" src="css/images/minuet.png">
        <div class="answers game2">
          <p>以下の選択肢から一つ選んでください</p>
          <div class="container">
            <button class="btn"   id="answer1">なついているとき</button>
            <button class="btn"   id="answer2">怒っているとき</button>
            <button class="btn"   id="answer3">寂しいとき</button>
            <button class="btn"   id="answer4">喜んでいるとき</button>
          </div>
        </div>
         <!-- 開始前ポップ -->
         <section class="hidden" id="section3">
          <div class="popup-container">
            <div class="button-background"></div>
            <div class="info-documents">準備OK?</div>
            <img src="css/images/Ready.jpg">
            <input class="btn" id = 'button3' type="button" value = "ゲームスタート！" style="position: relative; top: 430px; left: 0; right: 0;" onclick="this.disabled=true;">
            <div class="black-background"></div>
          </div>
        </section>
        <!-- 終了ポップ -->
        <section class="hidden" id="section4">
          <div class="popup-container">
            <div class="button-background"></div>
            <div class="info-documents">ねこは問題文にいるだけでも十分癒してくれる存在なのです。<p>さあ答え合わせです。</p></div>
            <ons-button class="btn" id="pop-button" style="position: relative; top: 300px; left: 0; right: 0;">次のページへ</ons-button>
            <div class="black-background"></div>
          </div>
        </section>  
      </div>
    </ons-page>
  </ons-template>
  
  <!-- みりおにゃあ結果画面 -->
  <ons-template id="page8.html">
    <ons-page id="eighth-page">
      
      <div class="content-top" style="text-align: center">
        <h1>クイズ！みりおにゃあ　結果</h1>
        <p>正解は<span id="score" ></span>回、不正解は<span id="missed"></span>回でした！</p>
        <img src="css/images/norwegian-forest-cat.png">
        <p id="cats-info">猫に関しては知識があまりなくネットからの引用が多いですが、それでも少しでも彼らのことを知っていただければ幸いです。</p>
        <ons-button class="btn" id="pop-button">トップへ戻る</ons-button>
      </div>
    </ons-page>
  </ons-template>
  
  <!-- にゃん経衰弱説明画面 -->

    <ons-template id="page5.html">
      <ons-page id="fifth-page">        
        <div class="content-top" style="text-align: center">
          <div class="explanations">
            <h1 style="padding: 12px; margin: 0px;" >にゃん経衰弱</h1>
            <div class="explanation" >      
              <h2>ゲーム説明</h2>
              <p>ねこの絵柄になった神経衰弱です。
              <br>同じ種類のネコを合わせることができれば当てた一組のカードを取ることができます。
              <br>挑戦回数で異なるねこの画像が出ます。</p>
            </div> 
            <img src="css/images/chinchilla.png" >  
          </div> 
          <ons-button class="btn" id="push-button5">next</ons-button>
          <ons-button class="btn" id="pop-button">Pop page1</ons-button>
        </div>
      </ons-page>
    </ons-template>
    
    <!-- にゃん経衰弱ゲーム画面 -->
    <ons-template id="page9.html">
      <ons-page id="ninth-page">
        
        <!-- <p>にゃん経衰弱ゲーム画面</p> -->
        <div class="content-top" style="text-align: center">
          <div class="panel-box" >
            <div class="panel-component grid" id="g0" >あ</div>
            <div class="panel-component grid" id="g1" >あ</div>
            <div class="panel-component grid" id="g2" >い</div>
            <div class="panel-component grid" id="g3" >い</div>
            <div class="panel-component grid" id="g4" >う</div>
            <div class="panel-component grid" id="g5" >う</div>
            <div class="panel-component grid" id="g6" >え</div>
            <div class="panel-component grid" id="g7" >え</div>
            <div class="panel-component grid" id="g8" >お</div>
            <div class="panel-component grid" id="g9" >お</div>
            <div class="panel-component grid" id="g10">か</div>
            <div class="panel-component grid" id="g11" >か</div>
            <div class="panel-component grid" id="g12" >き</div>
            <div class="panel-component grid" id="g13" >き</div>
            <div class="panel-component grid" id="g14" >く</div>
            <div class="panel-component grid" id="g15" >く</div>
            <div class="panel-component grid" id="g16" >け</div>
            <div class="panel-component grid" id="g17" >け</div>
            <div class="panel-component grid" id="g18" >こ</div>
            <div class="panel-component grid" id="g19" >こ</div>
            <div class="panel-component grid" id="g20" >さ</div>
            <div class="panel-component grid" id="g21" >さ</div>
            <div class="panel-component grid" id="g22" >し</div>
            <div class="panel-component grid" id="g23" >し</div>
            <div class="panel-component grid" id="g24" >す</div>
            <div class="panel-component grid" id="g25" >す</div>
            <div class="panel-component grid" id="g26" >せ</div>
            <div class="panel-component grid" id="g27" >せ</div>
            <div class="panel-component grid" id="g28" >そ</div>
            <div class="panel-component grid" id="g29" >そ</div>
          </div>
          <ons-button  class="btn" id="push-button9" >next</ons-button>
          <!-- <ons-button class="btn" id="pop-button">Pop page1</ons-button> -->
        </div>
        <!-- 開始前ポップ -->
        <section class="hidden" id="section3">
          <div class="popup-container">
            <div class="button-background"></div>
            <div class="info-documents">準備OK?</div>
            <img src="css/images/Ready.jpg">
            <input class="btn" id = 'button3' type="button" value = "ゲームスタート！" style="position: relative; top: 430px; left: 0; right: 0;" onclick="this.disabled=true;">
            <div class="black-background"></div>
          </div>
        </section>
        <!-- 終了ポップ -->
        <section class="hidden" id="section4">
          <div class="popup-container">
            <div class="button-background"></div>
            <div class="info-documents">ねこは問題文にいるだけでも十分癒してくれる存在なのです。<p>さあ答え合わせです。</p></div>
            <ons-button class="btn" id="pop-button" style="position: relative; top: 300px; left: 0; right: 0;">次のページへ</ons-button>
            <div class="black-background"></div>
          </div>
        </section>  
      </ons-page>
    </ons-template>

<!-- にゃん経衰弱finish画面 -->
<ons-template id="page10.html">
  <ons-page id="tenth-page">
    <div class="content-top" style="text-align: center">
    <p>にゃん経衰弱結果画面</p>
    <h1>結果発表</h1>
    <ons-button class="btn" id="resetter" >topへ</ons-button>
    <!-- <ons-button id="push-button">next</ons-button> -->
  </div>
</ons-page>
</ons-template>


</body>
</html>
